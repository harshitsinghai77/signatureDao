{"ast":null,"code":"import Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport Authereum from \"authereum\";\nimport { INFURA_ID, CURRENT_NETWORK } from \"utils/constants\";\nimport { JsonRpcProvider } from \"@ethersproject/providers\"; // const INFURA_ID = \"6f006a0521514865af0036763e47b34e\";\n\nexport const getWeb3Modal = () => {\n  const web3Modal = new Web3Modal({\n    network: \"mainnet\",\n    // optional\n    cacheProvider: true,\n    // optional\n    // disableInjectedProvider: true,\n    providerOptions: {\n      walletconnect: {\n        package: WalletConnectProvider,\n        // required\n        options: {\n          infuraId: INFURA_ID\n        }\n      },\n      authereum: {\n        package: Authereum // required\n\n      }\n    }\n  });\n  return web3Modal;\n};\nexport const switchNetwork = async () => {\n  if (!window.ethereum) return;\n\n  try {\n    await window.ethereum.request({\n      method: \"wallet_switchEthereumChain\",\n      params: [{\n        chainId: CURRENT_NETWORK.chainIdHex\n      }]\n    });\n  } catch (e) {\n    if (e.code === 4902) {\n      try {\n        await window.ethereum.request({\n          method: \"wallet_addEthereumChain\",\n          params: [{\n            chainId: CURRENT_NETWORK.chainIdHex,\n            chainName: CURRENT_NETWORK.name,\n            nativeCurrency: {\n              name: CURRENT_NETWORK.name,\n              symbol: CURRENT_NETWORK.token,\n              // 2-6 characters long\n              decimals: 18\n            },\n            blockExplorerUrls: [CURRENT_NETWORK.blockExplorer],\n            rpcUrls: [CURRENT_NETWORK.blockExplorer]\n          }]\n        });\n      } catch (addError) {\n        console.error(addError);\n      }\n    }\n  }\n}; // export const defaultProvider = ethers.getDefaultProvider(\n//   CURRENT_NETWORK.name,\n//   INFURA_ID\n// );\n\nexport const defaultProvider = new JsonRpcProvider(CURRENT_NETWORK.rpcUrl, CURRENT_NETWORK.name);","map":null,"metadata":{},"sourceType":"module"}